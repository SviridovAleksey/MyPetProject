{"ast":null,"code":"import { InstructStepService } from 'app/services/InstructStepsService';\nimport { AppService } from '../app/app.service';\nimport { HomeComponent } from '../home/home.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../app/app.service\";\nimport * as i2 from \"../home/home.component\";\nimport * as i3 from \"app/services/InstructStepsService\";\nimport * as i4 from \"@angular/common\";\n\nfunction InstructionsComponent_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 2);\n    i0.ɵɵlistener(\"dblclick\", function InstructionsComponent_li_1_Template_li_dblclick_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const instruct_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.showStepsInstruction(instruct_r1);\n    });\n    i0.ɵɵelementStart(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5)(4, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function InstructionsComponent_li_1_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const instruct_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.openRedactionInstruction(instruct_r1);\n    });\n    i0.ɵɵtext(5, \"\\u270E\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h4\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function InstructionsComponent_li_1_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.flipCard(i_r2);\n    });\n    i0.ɵɵtext(9, \"\\u21BB\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(10, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\", 5)(13, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function InstructionsComponent_li_1_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const instruct_r1 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.deleteInstruction(instruct_r1);\n    });\n    i0.ɵɵtext(14, \"\\u2716\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"h4\", 7);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function InstructionsComponent_li_1_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.flipCard(i_r2);\n    });\n    i0.ɵɵtext(18, \"\\u21BA\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"p\", 10);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const instruct_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"flipInst\", i_r2, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(instruct_r1.name);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(instruct_r1.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(instruct_r1.description);\n  }\n}\n\nexport let InstructionsComponent = /*#__PURE__*/(() => {\n  class InstructionsComponent {\n    constructor(_service, _home, _shareInstStepServ) {\n      this._service = _service;\n      this._home = _home;\n      this._shareInstStepServ = _shareInstStepServ;\n      this.listInstructionsUrl = 'http://localhost:8089/instruction-server/api/v1/instructions';\n      this.instructions = [];\n\n      this._shareInstStepServ.getInstructionsTrigger.subscribe(() => {\n        this.getInstructions();\n      });\n    }\n\n    ngOnInit() {\n      this.getInstructions();\n    }\n\n    openRedactionInstruction(instruction) {\n      this._home.addNewStepViewerWithoutChangePage(instruction);\n\n      this._home.showTab('createNewInstructions');\n\n      this._shareInstStepServ.redactionInstructionTrigger.next(instruction);\n    }\n\n    deleteInstruction(instruction) {\n      this._service.delResource(this.listInstructionsUrl, 10).subscribe(() => this.getInstructions(), error => console.log(error.messages));\n    }\n\n    showStepsInstruction(instruct) {\n      this._home.addNewStepViewer(instruct);\n\n      this._shareInstStepServ.getStepsEventSubject.next(instruct.id);\n    }\n\n    getInstructions() {\n      this._service.getResource(this.listInstructionsUrl).subscribe(data => this.instructions = data);\n\n      err => this._home.showTextMessageErr(err);\n    }\n\n    flipCard(id) {\n      if (document.getElementById(\"flipInst\" + id).style.transform == 'rotateY(180deg)') {\n        document.getElementById(\"flipInst\" + id).style.transform = 'rotateY(0deg)';\n      } else {\n        document.getElementById(\"flipInst\" + id).style.transform = 'rotateY(180deg)';\n      }\n    }\n\n  }\n\n  InstructionsComponent.ɵfac = function InstructionsComponent_Factory(t) {\n    return new (t || InstructionsComponent)(i0.ɵɵdirectiveInject(i1.AppService), i0.ɵɵdirectiveInject(i2.HomeComponent), i0.ɵɵdirectiveInject(i3.InstructStepService));\n  };\n\n  InstructionsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InstructionsComponent,\n    selectors: [[\"app-instructions\"]],\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"cardContainer\"], [\"class\", \"flip-card\", 3, \"dblclick\", 4, \"ngFor\", \"ngForOf\"], [1, \"flip-card\", 3, \"dblclick\"], [1, \"flip-card-inner\", 3, \"id\"], [1, \"flip-card-front\"], [1, \"nameTurnContainer\"], [1, \"buttonTurn\", 3, \"click\"], [1, \"headInst\"], [\"src\", \"img_avatar.png\", \"alt\", \"Avatar\", 2, \"width\", \"300px\", \"height\", \"300px\"], [1, \"flip-card-back\"], [1, \"placeText\"]],\n    template: function InstructionsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ul\", 0);\n        i0.ɵɵtemplate(1, InstructionsComponent_li_1_Template, 21, 4, \"li\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.instructions);\n      }\n    },\n    directives: [i4.NgForOf],\n    styles: [\".instructions[_ngcontent-%COMP%]{padding-top:115px;margin-bottom:115px}.cardContainer[_ngcontent-%COMP%]{margin:0 -.29%;list-style:none;padding:0}.nameTurnContainer[_ngcontent-%COMP%]{width:100%;display:flex;margin:0;-webkit-margin-end:auto;margin-inline-end:auto;word-break:break-word}.flip-card[_ngcontent-%COMP%]{background-color:transparent;float:left;height:300px;width:24.4%;padding:.3%}@media (max-width: 795px){.flip-card[_ngcontent-%COMP%]{width:99.4%;height:200px;display:block;margin-bottom:5px}}.flip-card-inner[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;transition:transform .6s;transform-style:preserve-3d;box-shadow:0 4px 8px #0003}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden}.flip-card-front[_ngcontent-%COMP%]{background-color:#bbb;color:#000}.flip-card-back[_ngcontent-%COMP%]{background-color:#2980b9;color:#fff;transform:rotateY(180deg)}.headInst[_ngcontent-%COMP%]{width:95%;align-self:center;background-color:transparent;color:#fff;border:none;text-align:center;resize:none;outline:none}.placeText[_ngcontent-%COMP%]{width:95%;padding-top:5%;padding-left:2%;height:100%;word-break:break-word}.buttonTurn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;padding:5%;font-size:16px}\"]\n  });\n  return InstructionsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}